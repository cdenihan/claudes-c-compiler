Task: Fix quadratic O(n^2) slowdown in get_expr_ctype for deeply nested struct accesses
Status: in_progress
Started: 2026-01-27

Problem: net/mac80211/tdls.c compilation times out (>30s) because
get_expr_ctype() has no memoization and re-traverses deeply nested
struct/pointer member access chains repeatedly. With kernel code having
very deep access chains (like sdata->u.mgd.tdls_peer_del_work.work)
combined with _Generic macros expanding into many nested accesses,
the compiler exhibits O(n^2) behavior.

The profiling shows >50% of CPU time in get_field_ctype, get_expr_ctype,
and get_expr_ctype_lowerer - all doing repeated recursive type resolution
without caching.

Approach: Add a per-expression memoization cache (RefCell<FxHashMap>)
to the Lowerer struct that caches get_expr_ctype results keyed by
Expr pointer address. This converts O(n^2) traversal to O(n) with
O(1) cache lookups.
