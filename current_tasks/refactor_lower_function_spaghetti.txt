Task: Refactor lower_function spaghetti code

The 554-line lower_function() method in lowering.rs is the worst spaghetti in the
codebase. This task decomposes it into focused sub-methods and eliminates triplicated
function-pointer typedef detection logic.

Specific changes:
1. Extract shared fptr typedef extraction helper (currently copy-pasted 3 times in
   lowering.rs pass 0 and stmt.rs local typedefs)
2. Decompose lower_function into sub-methods:
   - compute_return_type: return type ABI logic (sret, two-reg, complex)
   - build_ir_params: IR parameter list construction with complex decomposition
   - allocate_params: 3-phase parameter alloca emission and local registration
   - handle_kr_float_promotion: K&R float->double narrowing
3. Extract pass 0 typedef collection from lower() into collect_all_typedefs()

Status: IN PROGRESS
